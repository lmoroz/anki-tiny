# Course Layout Redesign Walkthrough

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–µ–¥–∏–∑–∞–π–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫—É—Ä—Å–∞ —Å –¥–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω—ã–º layout –¥–ª—è desktop –∏ slide-out –ø–∞–Ω–µ–ª—å—é –¥–ª—è mobile/tablet —É—Å—Ç—Ä–æ–π—Å—Ç–≤. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ FSRS –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö.

## –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. Responsive –¥–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω—ã–π layout (Desktop ‚â•1024px)

**–õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ (~60% —à–∏—Ä–∏–Ω—ã)**:
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∫—É—Ä—Å–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–≤—Å–µ–≥–æ –∫–∞—Ä—Ç–æ—á–µ–∫, –Ω–æ–≤—ã—Ö, –Ω–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–∏, —Å–µ–≥–æ–¥–Ω—è)
- –ö–Ω–æ–ø–∫–∞ "–ù–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É"
- –í–∏–¥–∂–µ—Ç QuickAddCard –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

**–ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ (~40% —à–∏—Ä–∏–Ω—ã)**:
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ –∫—É—Ä—Å–∞
- –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É"

### 2. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ FSRS –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö

–ö–∞–∂–¥–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:

**FSRS –º–µ—Ç—Ä–∏–∫–∏** (—Å –∏–∫–æ–Ω–∫–∞–º–∏):
- üìà **Stability** ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- ‚ö° **Difficulty** ‚Äî —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏  
- üîÅ **Reps** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π
- ‚ùå **Lapses** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫

**–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏**:
- üìÖ **–°–ª–µ–¥—É—é—â–µ–µ** ‚Äî –¥–∞—Ç–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è
- üïê **–ü–æ—Å–ª–µ–¥–Ω–µ–µ** ‚Äî –∫–æ–≥–¥–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –ø–æ–≤—Ç–æ—Ä—è–ª–∏ (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è)
- ‚ûï **–°–æ–∑–¥–∞–Ω–æ** ‚Äî –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏

### 3. Mobile slide-out panel (<1024px)

**–û–¥–Ω–æ–∫–æ–ª–æ–Ω–æ—á–Ω—ã–π layout** –Ω–∞ mobile:
- –í–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫—É—Ä—Å–µ
- FAB (Floating Action Button) —Å–ø—Ä–∞–≤–∞ –≤–Ω–∏–∑—É: "–ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ (N)"

**Slide-out –ø–∞–Ω–µ–ª—å**:
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ FAB
- –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è (—Å–ª–∞–π–¥ —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ, 300ms)
- Backdrop —Å blur —ç—Ñ—Ñ–µ–∫—Ç–æ–º
- –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É" –≤–Ω—É—Ç—Ä–∏ –ø–∞–Ω–µ–ª–∏
- –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫

**–¢—Ä–∏ —Å–ø–æ—Å–æ–±–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–∞–Ω–µ–ª–∏**:
1. –ö–ª–∏–∫ –ø–æ backdrop (–∑–∞—Ç–µ–º–Ω–µ–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å)
2. –ö–Ω–æ–ø–∫–∞ √ó –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –ø–∞–Ω–µ–ª–∏
3. –ö–ª–∞–≤–∏—à–∞ Escape

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### `CoursePage.vue`
- –î–æ–±–∞–≤–ª–µ–Ω `useMediaQuery` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è breakpoint (1024px)
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω state management –¥–ª—è mobile –ø–∞–Ω–µ–ª–∏ (`isCardsPanelOpen`)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ keyboard navigation (Escape –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è)
- –û–±–Ω–æ–≤–ª–µ–Ω template —Å responsive grid layout
- –£–≤–µ–ª–∏—á–µ–Ω `max-width` –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–æ 1440px
- **Focus Trap**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω `createFocusTrap` –∏–∑ –ø–∞–∫–µ—Ç–∞ `focus-trap`

#### `CardList.vue`
- –î–æ–±–∞–≤–ª–µ–Ω prop `compact` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
- –ü–µ—Ä–µ–¥–∞—ë—Ç `compact` –≤ `CardItem`

#### `CardItem.vue`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ FSRS –º–µ—Ç—Ä–∏–∫–∏ —Å –∏–∫–æ–Ω–∫–∞–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã timestamps (created, lastReview, due)
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω compact mode (—É–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è desktop –ø—Ä–∞–≤–æ–π –∫–æ–ª–æ–Ω–∫–∏)
- –î–æ–±–∞–≤–ª–µ–Ω—ã helper —Ñ—É–Ω–∫—Ü–∏–∏:
  - `formatRelativeTime()` ‚Äî "–°–µ–≥–æ–¥–Ω—è", "–í—á–µ—Ä–∞", "N –¥–Ω–µ–π –Ω–∞–∑–∞–¥"
  - `formatCreatedDate()` ‚Äî –∫–æ—Ä–æ—Ç–∫–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã

### CSS –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

**Responsive grid**:
```css
.course-page-grid {
  display: grid;
  grid-template-columns: 1fr; /* mobile */
}

@media (min-width: 1024px) {
  .course-page-grid {
    grid-template-columns: 2fr 1fr; /* desktop: 60/40 split */
  }
}
```

**Slide-out –ø–∞–Ω–µ–ª—å**:
- `transform: translateX(100%)` ‚Üí `translateX(0)` –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
- `transition: transform 0.3s ease` –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
- `backdrop-filter: blur(4px)` –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –≥–ª—É–±–∏–Ω—ã

**Compact mode –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫**:
- `min-height: 100px` (–≤–º–µ—Å—Ç–æ 180px)
- `font-size: 14px` (–≤–º–µ—Å—Ç–æ 16px)
- `-webkit-line-clamp: 2` (–≤–º–µ—Å—Ç–æ 3) –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –≤–æ–ø—Ä–æ—Å–∞

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### Desktop (‚â•1024px)
‚úÖ –î–≤–µ –∫–æ–ª–æ–Ω–∫–∏ –≤–∏–¥–Ω—ã —Ä—è–¥–æ–º  
‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –≤ –ø—Ä–∞–≤–æ–π –∫–æ–ª–æ–Ω–∫–µ  
‚úÖ –í—Å–µ FSRS –º–µ—Ç—Ä–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è  
‚úÖ Timestamps –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç—Å—è  
‚úÖ **–ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ –∏–º–µ–µ—Ç —Å–∫—Ä–æ–ª–ª** - –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ –æ–±—Ä–µ–∑–∞–Ω—ã —Å–Ω–∏–∑—É
‚úÖ **–ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É"** —Å–∫—Ä–æ–ª–ª–∏—Ç –∫ QuickAddCard

### Tablet/Mobile (<1024px)
‚úÖ –û–¥–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ (—Ç–æ–ª—å–∫–æ course info)  
‚úÖ FAB –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è  
‚úÖ –ü–∞–Ω–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è/–∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è   
‚úÖ Backdrop —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚úÖ –ö–Ω–æ–ø–∫–∞ √ó —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚úÖ Escape –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å  
‚úÖ **–ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–Ω–µ–ª–∏ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è** app header
‚úÖ **–ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É"** –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å –∏ —Å–∫—Ä–æ–ª–ª–∏—Ç –∫ QuickAddCard

### Accessibility
‚úÖ ARIA labels –Ω–∞ FAB –∏ –∫–Ω–æ–ø–∫–µ –∑–∞–∫—Ä—ã—Ç–∏—è
‚úÖ Tooltips –Ω–∞ –≤—Å–µ—Ö –∏–∫–æ–Ω–∫–∞—Ö –º–µ—Ç—Ä–∏–∫
‚úÖ Keyboard navigation (Escape key)
‚úÖ **Focus Trap**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `focus-trap` –¥–ª—è —É–¥–µ—Ä–∂–∞–Ω–∏—è —Ñ–æ–∫—É—Å–∞ –≤–Ω—É—Ç—Ä–∏ –º–æ–±–∏–ª—å–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏.

> **Note**: Focus trap —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞–∫–µ—Ç–∞ `focus-trap`.

---

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –±–∞–≥–∏

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –±—ã–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ç—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

### 1. Mobile Panel Header Overlap

**–ü—Ä–æ–±–ª–µ–º–∞**: –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–ö–∞—Ä—Ç–æ—á–∫–∏" –≤ –º–æ–±–∏–ª—å–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –ø–æ–ø–∞–¥–∞–ª –ø–æ–¥ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω `padding-top: 60px` –¥–ª—è `.panel-header`, —á—Ç–æ–±—ã –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª—Å—è –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª—å—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

```css
.panel-header {
  padding: 60px 20px 20px 20px; /* Was: 20px */
}
```

### 2. Desktop Cards Column Overflow

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–∞—Ä—Ç–æ—á–∫–∏ –≤ –ø—Ä–∞–≤–æ–π –∫–æ–ª–æ–Ω–∫–µ –æ–±—Ä–µ–∑–∞–ª–∏—Å—å —Å–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω—ã `max-height` –∏ `overflow-y: auto` –¥–ª—è `.cards-section`, —á—Ç–æ–±—ã –∫–æ–ª–æ–Ω–∫–∞ –∏–º–µ–ª–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª.

```css
.cards-section {
  max-height: calc(100vh - 100px);
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}
```

### 3. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É"

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–Ω–æ–ø–∫–∞ "+ –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É" –Ω–∞–¥ —Å–ø–∏—Å–∫–æ–º –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–ª–∞.

**–†–µ—à–µ–Ω–∏–µ**: 
- –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleCreateCardFromList()`, –∫–æ—Ç–æ—Ä–∞—è:
  - –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–±–∏–ª—å–Ω—É—é –ø–∞–Ω–µ–ª—å (–µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–∞)
  - –°–∫—Ä–æ–ª–ª–∏—Ç –∫ –≤–∏–¥–∂–µ—Ç—É QuickAddCard
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ –≤ desktop –∏ mobile –ø–∞–Ω–µ–ª–∏

```javascript
const handleCreateCardFromList = () => {
  if (!isDesktop.value) {
    closeCardsPanel()
  }
  setTimeout(() => {
    quickAddCardRef.value?.$el?.scrollIntoView({ behavior: 'smooth', block: 'center' })
  }, 100)
}
```

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≥–æ—Ç–æ–≤—ã –∫:
1. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏—é Changelog
2. ‚úÖ Merge –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ç–∫—É
3. ‚úÖ –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—é OpenSpec change
