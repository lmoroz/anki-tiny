# Массовое добавление карточек

## Обзор

Добавлена функциональность batch-добавления карточек через textarea в компоненте `QuickAddCard.vue`.

## Что изменено

### Компонент: `frontend/src/widgets/quick-add-card/QuickAddCard.vue`

**Новые возможности:**

1. **Переключатель режимов** — пользователь может выбрать между двумя режимами:
   - **"Одна карточка"** — исходный функционал быстрого добавления одной карточки через два поля (вопрос/ответ)
   - **"Массовое добавление"** — новый режим для batch-импорта карточек через textarea

2. **Формат ввода для batch-добавления:**

   ```text
   вопрос | ответ
   ```

   - Каждая строка — новая карточка
   - Текст до `|` — лицевая сторона карточки (front)
   - Текст после `|` — обратная сторона карточки (back)

3. **Валидация:**
   - Проверка на наличие разделителя `|` в каждой строке
   - Проверка, что разделитель `|` встречается ровно один раз
   - Проверка на пустые значения front/back
   - Информативные сообщения об ошибках с указанием номера строки

4. **UI улучшения:**
   - Современный переключатель режимов с активным состоянием
   - Textarea с автоматической высотой (10 строк)
   - Информационная подсказка с форматом ввода
   - Responsive design для мобильных устройств

## Технические детали

### Новые функции

- `parseBatchInput(text)` — парсинг textarea в массив объектов `{front, back}[]`
- `validateBatchInput()` — валидация входных данных batch-формы
- `handleBatchAdd()` — обработка массового добавления карточек
- `switchMode(newMode)` — переключение между режимами с очисткой ошибок

### Логика обработки

1. Пользователь вводит карточки в формате `вопрос | ответ` (каждая строка — новая карточка)
2. При нажатии "Добавить все карточки" запускается валидация
3. Если валидация успешна, каждая карточка отправляется через существующий emit `@added`
4. Между отправками карточек добавлена задержка 50ms для плавности
5. После успешного добавления textarea очищается

### Пример использования

**Ввод:**

```text
банты | бАнты
бороду | бОроду (вин. п., только в этой форме ед.ч. ударение на 1-ом слоге)
бухгалтеров | бухгАлтеров
вероисповедание | вероисповЕдание, от веру исповЕдать
гражданство | граждАнство
дефис | дефИс
```

**Результат:**

- Создаётся 6 карточек
- Каждая карточка сохраняется в БД
- UI обновляется автоматически через store

## Совместимость

- Полностью обратно совместимо с существующим API
- Использует существующий emit-механизм `@added`
- Не требует изменений в backend
- Не требует изменений в `CoursePage.vue`

## Преимущества

✅ Ускоряет процесс создания карточек при массовом вводе  
✅ Удобно для импорта учебных материалов  
✅ Интуитивный формат `вопрос | ответ`  
✅ Детальная валидация с понятными сообщениями об ошибках  
✅ Адаптивный дизайн  
✅ Сохраняет существующую функциональность
