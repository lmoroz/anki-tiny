# Course Layout Redesign

## Overview

Reorganization of the course page for improved UX and detailed card statistics through:

1. **Адаптивный двухколоночный layout** (desktop: информация слева, компактный список карточек справа; mobile/tablet: карточки в выезжающей панели)
2. **Расширенная статистика карточек** (отображение всех метрик FSRS и временных меток)

## Motivation

### Текущие проблемы

- **Одноколоночный layout** на всех размерах экрана не использует пространство эффективно на широких экранах
- **Ограниченная информация о карточках** — показывается только state badge и due date
- **Скрытые метрики FSRS** — стабильность, сложность, количество повторений, ошибки не отображаются, хотя хранятся в БД

### Ожидаемые улучшения

- **Эффективное использование пространства** на desktop (>1024px)
- **Улучшенная доступность на mobile** через выезжающую панель вместо длинного скролла
- **Полная прозрачность** алгоритма интервального повторения через отображение всех метрик
- **Информирование пользователя** о прогрессе обучения через детальную статистику

## Scope

### In Scope

- ✅ Двухколоночный layout для desktop (≥1024px)
- ✅ Slide-out panel для карточек на tablet/mobile (\u003c1024px)
- ✅ Расширенная статистика в `CardItem.vue`:
  - State badge (уже есть)
  - Stability (стабильность)
  - Difficulty (сложность)
  - Reps (количество повторений)
  - Lapses (количество ошибок)
  - Created at (дата создания)
  - Last review (дата последнего повторения)
  - Due date (дата следующего повторения)
- ✅ Компактный режим отображения карточек в правой колонке
- ✅ Кнопка открытия панели карточек на mobile

### Out of Scope

- ❌ Фильтрация и сортировка карточек (отдельная фича)
- ❌ Поиск по карточкам (отдельная фича)
- ❌ Изменение алгоритма FSRS или backend API
- ❌ Редизайн формы быстрого добавления карточек

## User Review Required

\u003e [!IMPORTANT]
\u003e **Breakpoint для mobile/tablet**: Предлагается 1024px как граница между desktop (двухколоночный) и tablet/mobile (панель). Если у вас другие предпочтения, укажите желаемый breakpoint.

\u003e [!IMPORTANT]
\u003e **Формат отображения статистики**: Планируется компактный inline формат (иконка + значение + tooltip). Если нужен другой формат (например, развернутая таблица), укажите предпочтения.

## Dependencies

### Technical

- Существующие компоненты:
  - `frontend/src/pages/course/CoursePage.vue`
  - `frontend/src/widgets/card-list/CardList.vue`
  - `frontend/src/widgets/card-list/CardItem.vue`
  - `frontend/src/widgets/quick-add-card/QuickAddCard.vue`
- TailwindCSS v4 для responsive grid и transitions
- Существующие FSRS поля в БД (schema.ts)

### Process

- Нет зависимостей от других активных changes
- Не конфликтует с существующими specs

## Rollout Plan

1. **Local Development**: Тестирование на desktop (1920x1080), tablet (768x1024), mobile (375x667)
2. **Manual Verification**: Проверка responsive behavior, читаемости метрик, работы slide-out панели
3. **User Acceptance**: Сбор обратной связи об информативности новой статистики

## Alternatives Considered

### Alternative 1: Tabs вместо двухколоночного layout

- **Pros**: Проще в реализации, меньше кода
- **Cons**: Требует переключения между вкладками, менее эффективное использование пространства

### Alternative 2: Modal вместо slide-out панели на mobile

- **Pros**: Более привычный паттерн для некоторых приложений
- **Cons**: Менее удобно для быстрого просмотра карточек, перекрывает весь экран

### Alternative 3: Dashboard с виджетами вместо фиксированного layout

- **Pros**: Максимальная гибкость для пользователя
- **Cons**: Избыточная сложность для текущего этапа проекта

**Решение**: Остановились на двухколоночном layout + slide-out panel как баланс между функциональностью и простотой.
